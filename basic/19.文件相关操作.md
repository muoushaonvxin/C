
### 文件的作用

文件在今天的计算机系统中作用是非常重要的，文件用来存放程序，文档，数据，信件，表格，图片，视频和其他多种类的信息。学习该技能就必须要掌握文件的读写，创建

一个文件通常是磁盘上命名的存储区，Ｃ将文件堪称是连续的字节序列，其中每一个字节都可以单独地读取。

文本视图和二进制视图，在二进制视图中，文件中的每个字节都可以被程序进行访问，在文本视图中，程序看到的内容和文件的内容有可能不同，例如对文件行尾的处理，例如　MS-DOS 文本文件用回车符和换行符的组合　\r\n 表示行尾，Ｃ程序使用\n 来表示行尾

标准文件，C程序会自动打开3个文件，这3个文件被称为标准输入，标准输出和标准错误输出。默认的标准输入通常为键盘：默认的标准输出和标准错误输出通常为显示器。在使用重定向方法将输出发送到一个文件中而不是屏幕上，发送到标准错误输出的输出内容仍然会被发送到屏幕上面。

```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
   int a = 6, b = 0;
   printf("hello\n");
   fflush(stdout);
   printf("a / b = %d\n", a / b);

   return 0;
}
```

### 标准I/O

打开文件要使用 fopen() 函数，第一个参数就是要打开的文件名

| 模式字符串 | 意义 |
|-----------|------|
| "r"       | 打开一个文本文件，可以读取文件 |
| "w"       | 打开一个文本文件，可以写入文件，先将文件的长度截取为零，如果该文件不存在就创建 |
| "a"       | 打开一个文本文件，可以写入文件，向已有的文件的尾部追加内容，如果该文件不存在则创建 |
| "r+"      | 打开一个文本文件，可以进行更新，也即可以读取和写入文件 |
| "w+"      | 打开一个文本文件，可以进行更新，如果该文件存在则首先将长度截取为零，如果不存在则创建 |
| "a+"      | 打开一个文本文件，可以进行更新，向已有文件的尾部追加内容，如不存在则创建之，可以读取多个文件，但写入只能追加内容 |
| "rb", "wb", "ab", "ab+", "a+b", "wb+", "w+b", "ab+", "a+b" | 只使用二进制模式而非文本模式打开文件 |


```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
   FILE *pf = fopen("11.txt", "r");
   if(pf == NULL){
      printf("打开文件失败\n");
   }else{
      printf("OK\n");
   }
   
   printf("pf:%p\n", pf);

   return 0;
}
```

```c
#include <stdio.h>

int main()
{
   FILE *pf = fopen("11.txt", "r");
   if(pf == NULL){
      printf("打开文件失败\n");
   }else{
      printf("OK\n");
   }
   char ch;
   for(int i = 0; i < 5; i++){
      ch = getc(pf);
      printf("%c", ch);
   }

   return 0;
}
```
