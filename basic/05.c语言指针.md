## 指针 

<br>

* 指针的定义, 初始化, 赋值与引用
* 指针的运算
* 指针常量, 常量指针, 指向常量的指针常量
* 指针与数组的关系
* 指针数组与数组指针
* 指针函数与函数指针
* 字符指针, 字符串指针与字符数组
* 指向指针的指针 (二级指针)
* 带参数的main函数
* 可变参数函数

<br>

在计算机中, 所有的数据都是存放在存储器中, 一般把存储器中的一个字节称为一个内存单元, 不同的数据类型所占用的内存单元数不等, 如字符量占1个字节, 整形量占4个字节, 双精度浮点型量占8个字节.

为了正确地访问这些内存单元, 必须为每个内存单元编上号. 根据一个内存单元的编号或地址就可以找到所需的内存单元. 内存单元的编号也叫地址, 通常也把这个地址成为指针.

对于一个内存单元来说, 单元的地址即为指针, 其中存放的数据是该单元的内容.

在c语言中, 允许用一个变量来存放指针, 这种变量称之为指针变量, 因此, 一个指针变量的值就是某个内存单元的地址或称为某内存单元的指针.

严格地说, 一个指针是一个地址, 是一个常量; 而一个指针变量却可以被赋予不同的指针指, 是变量, 但常把指针变量简称为指针.

对指针变量的定义包括三个字符

<br>

## 指针变量的定义

<br>

1) 指针类型说明, 即定义变量为一个指针变量
2) 指针变量名
3) 变量值 (指针) 所指向的变量的数据类型

其一般形式为:
类型说明符 *变量名

其中, *表示这是一个指针变量, 变量名即为定义的指针变量名, 类型说明符表示本指针变量所指向的变量的数据类型

注意: 一个指针变量只能指向同类型的变量


1.指针(类型 (int *))
1.1 指针变量:	用来记录地址数据的变量
1.2 指针的用途: 用来找到某一个存储区

2.指针变量的声明方式, 数据类型 *p
```c
int a = 10;
int *p; (未初始化，野指针)
int *p = NULL; (空指针) // NULL为0
int *p = &a; // 指针变量p存放了变量a的地址也可以说p指向了变量a (p与变量a进行了捆绑)
```

<br>

示例代码

```c
#inlcude <stdio.h>

int main(){
    char ch = 'A'; // 定义一个字符变量ch
    int i = 1;
    char *pch = &ch; // 定义一个字符型指针变量pch,  &ch代表变量ch的内存地址
    //pch = &i; // 这种做法是错误的, 因为整形变量的内存地址不能赋值给字符类型
    return 0;	
}
```

## 指针变量的初始化与赋值

<br>

指针变量同普通变量一样, 使用之前不仅要定义说明, 而且必须赋予具体的值 (一个地址).

未经赋值的指针变量不能使用, 否则将造成系统混乱, 甚至死机

两个相关的运算符:
1) &取地址运算符
2) *指针运算符或称间接访问运算符

例如:
```c
int a = 10;
int *pa = &a; // 直接指针变量初始化
```

或 

```c
int *pa; // 先定义
pa = &a; // 在赋值 (被赋值的指针变量前不能再加 * 说明符)
```

<br>

### 指针变量的引用

我们可通过指针变量pa间接访问变量a, 例如:
```c
*pa = &a;
```

运算符 * 访问以pa的值为地址的存贮区域, 而pa中存放的是变量a的地址, 因此, *pa访问的是地址为aaaaaa31的存贮区域 (因为a为整形, 实际上从aaaaaa31开始的四个字节), 它就是a所占用的存贮区域, 所以上面的赋值表达式等价于:
```c
a = 8;
```

指针变量和普通变量一样, 存放在他们之中的值是可以改变的, 也就是说可以改变它们的指向. 如指针变量pa也可以保存其它整形变量的 (首) 地址或一个整型数组的 (首) 地址.

## 打印指针变量

```c
#inlcude <stdio.h>

int main(){
    char ch = 'A'; 
    int i = 1;
    char *pch = &ch; 
    printf("%c\n", *pch);
    getchar(); 
    return 0;	
}

//输出结果为
A
```

## 通过指针来修改它所指向的那个变量的值

有时也可以反过来通过指针给它所引用变量的内存地址进行赋值操作
```c
char ch = 'A';
char *pch = &ch;
*pch = 'B';
printf("ch = %c\n", ch);

// 输出结果
ch = B
```

示例代码

```c
#inlcude <stdio.h>

int main(){
    char ch = 'A'; 
    char *pch;
    pch = &ch;
    printf("%c\n", *pch);
    *pch = 'B'; // 通过指针变量来修改它所指向的那个变量的值, 这一步等同于 ch = 'B'
    printf("%c\n", ch);
    getchar(); 
    return 0;	
}

//输出结果为
A
B
```

输出指针变量的当前值和指针变量的内存地址

```c
#include <stdio.h>

int main(){
    int n = 10;
    int *pn = &n;
    
    printf("指针变量pn的值: %p\n", pn);
    printf("指针变量pn的地址: %p\n", &pn);
    printf("指针变量pn所指向变量的值: %d\n", *pn);
    return 0;
}

//输出结果为:
指针变量pn的值: 0024F8D8
指针变量pn的地址: 0024F8CC
指针变量pn所指向变量的值: 10
按任意键继续...
```


```c
#include <stdio.h>

int main(){
    int a = 3, b = 4;
    
    //通过一个函数来交换变量a和b的值
    swap(a,b);
    printf("a = %d, b = %d\n", a, b);
    return 0;
}

void swap(int a, int b){
    int t;
    t = a;
    a = b;
    b = t;
    printf("值交换后的结果为: a = %d, b = %d\n", a, b);
}

//输出结果为:
值交换后的结果为: a = 4, b = 3
a = 3, b = 4
```

通过指针进行两个值之间的相互转换
```c
#include <stdio.h>

int main(){
    int a = 3, b = 4;
    
    //通过一个函数来交换变量a和b的值
    swap(a,b);
    printf("a = %d, b = %d\n", a, b);
    return 0;
}

void swap(int *pa, int *pb){
    int t 
    t = *pa;
    *pa = *pb;
    *pb = t
}

//输出的结果为
a = 4, b = 3
```

<br>
